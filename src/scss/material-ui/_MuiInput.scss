@use "sass:math";

.MuiInput {
    &-root {
        display: inline-flex;
        flex-flow: row nowrap;
        justify-content: flex-start;
        align-items: flex-end;
        padding: $input-base-padding-y $input-base-padding-x $input-base-padding-y;
        border-radius: $input-base-border-radius;
        box-shadow: $input-base-box-shadow;
        min-height: 5.8rem;

        & > * {
            z-index: 1;
        }

        &::before {
            position: absolute;
            content: '';
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: $input-base-border-radius;
            opacity: 0;
            transition: opacity 0.15s linear;
            z-index: 0;
        }

        &.Mui-focused {
            &::before {
                opacity: 1;
            }
        }

        &.MuiInputBase-colorPrimary {
            &::before {
                box-shadow: $input-base-primary-focused-box-shadow;
            }
        }

        &.MuiInputBase-colorSecondary {
            &::before {
                box-shadow: $input-base-secondary-focused-box-shadow;
            }
        }

        .MuiInputAdornment {
            &-root {
                margin-bottom: $input-base-padding-y;
            }

            &-positionEnd {
                align-self: center;
                margin: 0;
            }
        }

        & ~ .MuiFormHelperText {
            &-root {
                margin-left: $input-base-padding-x;
            }
        }
    }

    &-input {
        display: block;
        padding: 0;
    }
}

.MuiInputLabel {
    $this: &;

    &-root {
        $_transform-offset-y: math.div(5.8rem, 2) -
            math.div($input-base-font-size * 0.86 * $input-base-line-height, 2);
        $_transform-offset-y: math.div(math.floor($_transform-offset-y * 10), 10);

        top: 0;
        line-height: $input-base-line-height;
        max-width: calc(100% - #{$input-base-padding-x} * 2);
        transform: translate3d($input-base-padding-x, $_transform-offset-y, 0);
        transition: max-width 0.15s, transform 0.15s ease;

        &#{$this}-shrink,
        &.Mui-focused,
        &.MuiFormLabel-filled {
            line-height: math.div(math.floor($input-base-line-height * 0.86 * 10), 10) + 0.05;
            max-width: calc(114% - #{$input-base-padding-x} * 2);
            transform: translate3d($input-base-padding-x, $input-base-padding-y, 0)
                scale3d(0.86, 0.86, 1);
        }

        & + .MuiInputBase {
            &-root {
                margin: 0;
            }

            &-multiline {
                padding-top: $_transform-offset-y + ($input-base-padding-y * 0.86);
            }
        }
    }
}
